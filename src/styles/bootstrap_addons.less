/*
 * Copyright (c) 2014 Hewlett-Packard Development Company, L.P.
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may
 * not use this file except in compliance with the License. You may obtain
 * a copy of the License at
 *
 *         http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations
 * under the License.
 */

@import './bootstrap/badges.less';
@import './bootstrap/tables.less';

/**
 * Generic overrides and addons for bootstrap.
 */
h1, h2, h3, h4, h5, h6, p {

    &.no-margin {
        margin: 0px;
    }

    &.no-border {
        border: none;
    }

    &.no-margin-bottom {
        margin-bottom: 0px;
    }

    &.editable {
        padding: @padding-base-vertical @padding-base-horizontal;
        border: 1px solid @body-bg;
        border-radius: @input-border-radius;

        &:hover {
            border: 1px solid @input-border;
            .box-shadow(inset 0 1px 1px rgba(0,0,0,.075));
        }
    }

}

h1 {
    padding-bottom: .3em;
    border-bottom: 2px solid @gray-lighter;
}

.navbar {
    #gradient > .vertical(@white, @gray-lighter);
    .box-shadow(0 1px 3px rgba(0, 0, 0, .25));

    // The new story button in the mobile view needs a little additional margin.
    .new-story-button {
        margin-right: 5px;
    }

    .navbar-nav {
        li {
            .active {
                @media (max-width: @screen-sm) {
                    border-left: 5px solid @brand-primary;
                    color: @gray-darker;
                }

                @media (min-width: @screen-sm) {
                    border-bottom: 3px solid @brand-primary;
                    margin-bottom: -2px;
                    padding-bottom: (@navbar-padding-vertical - 2);
                    color: @gray-darker;
                }
            }

            &.visible-xs {
                hr {
                    border-top: 1px solid @gray-light;
                    margin: 5px 10px 5px 10px;
                }
            }
        }
    }
}

.navbar-brand {
    color: @brand-primary;

    a:hover {
        text-decoration: none;
    }
}

.has-feedback {

    // Sibling selectors for inputs of different sizes.
    .input-sm + .form-control-feedback {
        line-height: 30px;
    }

    &.has-feedback-no-label {
        .form-control-feedback {
            top: 0px;
        }
    }
}

.nav-tabs {

    &.nav-tabs-down {
        border-bottom: none;
        border-top: 1px solid @nav-tabs-border-color;

        > li {
            margin-bottom: 0px;
            margin-top: -1px;

            // Actual tabs (as links)
            > a {
                border-width: 1px;
                border-radius: 0 0 @border-radius-base @border-radius-base;
                &:hover {
                    border-bottom-color: @nav-tabs-link-hover-border-color;
                    border-top-color: @nav-tabs-border-color;
                }
            }

            // Active state, and its :hover to override normal :hover
            &.active > a {
                &,
                &:hover,
                &:focus {
                    border-bottom-color: @nav-tabs-active-link-hover-border-color;
                    border-top-color: transparent;
                }
            }
        }
    }

    &.nav-thick {
        border-width: 2px;

        > li {
            margin-bottom: 0px;
            margin-top: -2px;
            > a {
                border-width: 2px;
            }
            // Active state, and its :hover to override normal :hover
            &.active > a {
                &,
                &:hover,
                &:focus {
                    border-width: 2px;
                }
            }
        }
    }
}


// Modal content with an internal panel has a bottom margin that we need
// to get rid of.
.modal-content .panel {
    margin-bottom: 0px;
}


.form-control {
    &.h1 {
        .input-size(
            @input-height-h1;
            @padding-base-vertical;
            @padding-base-horizontal;
            @font-size-h1;
            @line-height-large;
            @border-radius-base);
    }
    &.h2 {
        .input-size(@input-height-h2;
            @padding-base-vertical;
            @padding-base-horizontal;
            @font-size-h2;
            @line-height-large;
            @border-radius-base);
    }
    &.h3 {
        .input-size(@input-height-h3;
            @padding-base-vertical;
            @padding-base-horizontal;
            @font-size-h3;
            @line-height-base;
            @border-radius-base);
    }
    &.h4 {
        .input-size(@input-height-h4;
            @padding-base-vertical;
            @padding-base-horizontal;
            @font-size-h4;
            @line-height-base;
            @border-radius-base);
    }
    &.h5 {
        .input-size(@input-height-h5;
            @padding-base-vertical;
            @padding-base-horizontal;
            @font-size-h5;
            @line-height-base;
            @border-radius-base);
    }
    &.h6 {
        .input-size(@input-height-h6;
            @padding-base-vertical;
            @padding-base-horizontal;
            @font-size-h6;
            @line-height-base;
            @border-radius-base);
    }
}


