<span ng-if="!enabled">
    <span ng-if="project">
        {{project.name}}
    </span>
    <em class="text-muted"
        ng-if="!project">
        Not assigned
    </em>
</span>
<a href=""
   ng-focus="toggleForm()"
   ng-if="enabled && !showForm"
   ng-click="toggleForm()">
    <span ng-if="project">
        {{project.name}}
    </span>
    <em class="text-muted"
        ng-if="!project">
        Click to assign
    </em>
    <i class="fa fa-edit text-muted"></i>
</a>

<input id="input"
       type="text"
       class="form-control"
       focus="autoFocus"
       ng-blur="updateViewValue(selectedProject.id); toggleForm()"
       typeahead-editable="false"
       typeahead="project as project.name for project in searchProjects($viewValue)"
       typeahead-loading="loadingProjects"
       typeahead-input-formatter="formatProjectName($model)"
       typeahead-on-select="updateViewValue($model.id);"
       ng-model="selectedProject"
       ng-if="showForm"/>