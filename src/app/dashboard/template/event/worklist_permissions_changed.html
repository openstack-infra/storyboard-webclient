<div class="discussion-comment"
     ng-controller="WorklistEventController">
    <p class="discussion-comment-author">
        <p>
            <span time-moment eventdate="evt.created_at" class="pull-right"></span>
            <span>
                {{author.full_name}} updated the permissions of
                <a href="#!/worklist/{{evt.event_info.worklist_id}}" rel="nofollow">
                    {{ worklist.title }}
                </a>.
            </span>
        </p>
        <p>
            <strong ng-show="evt.event_info.codename == 'move_items' ||
                             evt.event_info.codename == 'edit_worklist'">
                {{ evt.event_info.codename == 'move_items' ? 'Users' : 'Owners' }}
            </strong>
            <strong ng-hide="evt.event_info.codename == 'move_items' ||
                             evt.event_info.codename == 'edit_worklist'">
                {{ evt.event_info.codename }}
            </strong>
            <div ng-if="evt.event_info.added.length > 0">
                Added:
                <ul>
                    <li ng-repeat="user in evt.event_info.added">
                        <span ng-repeat="key in user">
                            {{ key }}
                        </span>
                    </li>
                </ul>
            </div>
            <div ng-if="evt.event_info.removed.length > 0">
                Removed:
                <ul>
                    <li ng-repeat="user in evt.event_info.removed">
                        <span ng-repeat="key in user">
                            {{ key }}
                        </span>
                    </li>
                </ul>
            </div>
        </p>
    </p>
</div>
